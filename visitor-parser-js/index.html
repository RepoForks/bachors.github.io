<!DOCTYPE html>
<html>
	<head>
		
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		
		<!-- Mobile viewport optimized -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		
		<!-- Title -->
		<title>VisitorParser.Js - Bachors</title>

		<!-- Asset -->
		<link type="text/css" rel="stylesheet" href="../src/css/bootstrap.css" />
		<link type="text/css" rel="stylesheet" href="../src/css/style.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css" />
		<!--[if lt IE 9]>
		  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.ie.min.css" />
		<![endif]--> 
	</head>
	<body>
		<div id="header"></div>
		<div class="main content-wrap dnl-visible content-opacity" data-effect="dnl-overlay">
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-8 col-md-offset-2">
						<div class="post">
							<div class="content">
								<h1>VisitorParser.Js</h1>
								<p>Lightweight javascript-based to analyze visitors with user-agent & ip geo location parser.</p><br>
								
								<h4>Script Features:</h4>
								<p>The object gives you access to a wide range of data on each "geo" & "ua":</p>
								<ul id="info"></ul><br>

								<h4>Example:</h4>
								<b>Setting options</b>
								<div align="center">
								User-agent string: 
								<select class="form-control" id="setua">
									<option value="">My user-agent</option>
									<option value="Mozilla/5.0 (Linux; U; Android-4.0.3; en-us; Galaxy Nexus Build/IML74K) AppleWebKit/535.7 (KHTML, like Gecko) CrMo/16.0.912.75 Mobile Safari/535.7">Mozilla/5.0 (Linux; U; Android-4.0.3; en-us; Galaxy Nexus Build/IML74K) AppleWebKit/535.7 (KHTML, like Gecko) CrMo/16.0.912.75 Mobile Safari/535.7</option>
									<option value="Mozilla/5.0 (iPhone; U; CPU iPhone OS 5_1_1 like Mac OS X; en) AppleWebKit/534.46.0 (KHTML, like Gecko) Opera Mobi/ADR-1111101157 Mobile/9B206 Safari/7534.48.3">Mozilla/5.0 (iPhone; U; CPU iPhone OS 5_1_1 like Mac OS X; en) AppleWebKit/534.46.0 (KHTML, like Gecko) Opera Mobi/ADR-1111101157 Mobile/9B206 Safari/7534.48.3</option>
									<option value="Mozilla/5.0 (BlackBerry; U; BlackBerry 9700; en-US) AppleWebKit/534.8+ (KHTML, like Gecko) Version/6.0.0.448 Mobile Safari/534.8+">Mozilla/5.0 (BlackBerry; U; BlackBerry 9700; en-US) AppleWebKit/534.8+ (KHTML, like Gecko) Version/6.0.0.448 Mobile Safari/534.8+</option>
									<option value="Mozilla/5.0 (Linux; U; Android 2.3.5; de-de; SAMSUNG GT-S5830/S5830BUKS2 Build/GINGERBREAD) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1">Mozilla/5.0 (Linux; U; Android 2.3.5; de-de; SAMSUNG GT-S5830/S5830BUKS2 Build/GINGERBREAD) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1</option>
									<option value="Mozilla/5.0 (X11; Linux i686) AppleWebKit/535.7 (KHTML, like Gecko) Ubuntu/11.10 Firefox/50.0 Safari/535.7">Mozilla/5.0 (X11; Linux i686) AppleWebKit/535.7 (KHTML, like Gecko) Ubuntu/11.10 Firefox/50.0 Safari/535.7</option>
									<option value="Googlebot/2.1 (http://www.googlebot.com/bot.html)">Googlebot/2.1 (http://www.googlebot.com/bot.html)</option>
								</select><br>
								Geo API: 
								<select class="form-control" id="setgeo">
									<option value="http://ip-api.com/json">http://ip-api.com/json</option>
									<option value="http://freegeoip.net/json/">http://freegeoip.net/json/</option>
									<option value="http://api.ipify.org/?format=json">http://api.ipify.org/?format=json</option>
									<option value="http://jsonip.com/">http://jsonip.com/</option>
									<option value="http://ip.jsontest.com/">http://ip.jsontest.com/</option>
								</select><br>
								Get all option result: 
								<select class="form-control" id="setopt">
									<option value="false">false</option>
									<option value="true">true</option>
								</select>
								</div>
								<br>
								<b>Choose Methods</b>
								<div align="center">
								Pick one: 
								<select class="form-control" id="setget">
									<option value="info">getInfo()</option>
									<option value="geo">getGeo()</option>
									<option value="ip">getGeo().ip</option>
									<option value="ua">getUa()</option>
									<option value="browser">getUa().browser</option>
									<option value="os">getUa().platform.name</option>
								</select><br>
								<a href="#uas" class="btn btn-success" onclick="tested()">Tested</a>
								</div>
								<hr>
								<h4>Result user-agent string</h4>
								<pre id="uas"></pre>
								<h4>Results of pasrser</h4>
								<pre id="result"></pre>
							</div>
						</div>
					</div>
				</div>
			</div>
			<footer>
				<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_BLANK">
					<input type="hidden" name="cmd" value="_s-xclick">
					<input type="hidden" name="hosted_button_id" value="RG95K7HU7AFDS">
					<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
					<img alt="" border="0" src="https://www.paypalobjects.com/id_ID/i/scr/pixel.gif" width="1" height="1">
				</form>
				Lovingly crafted by <a href="https://github.com/bachors" target="_BLANK">Bachors</a>
			</footer>
		</div>
		<a class="github-fork-ribbon right-bottom fixed" href="https://github.com/bachors/Visitor-Parser-JS" title="Fork me on GitHub">Fork me on GitHub</a> 
		<script src="../src/js/jquery.min.js"></script>
		<script src="js/visitor-parser.js"></script>
		<script>
		var visitor = new visitorParser();
		var info = visitor.getInfo();

		var html = '';

		var result = JSON.stringify(info, null, 2);

		if(info.geo.ip != ''){
			html += '<li><b>Your IP address</b><br><code>' + info.geo.ip + '</code>';
			html += (info.geo.city != '' || info.geo.country != '' ? ' tells visitorParser.js that you are from' : '');
			html += (info.geo.city != '' ? ' around <code>' + info.geo.city + '</code>,' : '');
			html += (info.geo.country != '' ? ' <code>' + info.geo.country + '</code>' : '');
			html += (info.geo.provider != '' ? ' using the provider <code>' + info.geo.provider + '</code>' : '');
			html += '.</li>';
		}
		html += '<li><b>Date of last visit</b><br>This seems to be your 2nd visit to the visitorParser.js website. Your last visit was on <code>' + info.ua.date + '</code>. Nice to see you again!</li>';
		if(info.ua.referring.url != ''){
			html += '<li><b>Referring website</b><br>You have been referred to this website by <code>' + info.ua.referring.host + '</code>.</li>';
		}
		if(info.ua.processor.name != '' || info.ua.platform.name != ''){
			html += '<li><b>Platform or operating system</b><br>';
			html += 'On <code>' + (info.ua.platform.name != '' ? info.ua.platform.name : 'n/a') + ' ' + (info.ua.platform.version != undefined ? info.ua.platform.version : '') + '</code> with processor <code>' + (info.ua.processor.name != '' ? info.ua.processor.name : 'n/a') + '</code>.';
			html += '</li>';
		}
		html += '<li><b>Browser, engine and resolution</b><br>You seem to be using <code>' + (info.ua.browser.name != '' ? info.ua.browser.name : 'n/a') + ' ' + (info.ua.browser.version != undefined ? info.ua.browser.version : '') + '</code> and engine <code>' + (info.ua.engine.name != '' ? info.ua.engine.name : 'n/a') + ' ' + (info.ua.engine.version != undefined ? info.ua.engine.version : '') + '</code> with a resolution of <code>' + info.ua.resolution.width + '</code>x<code>' + info.ua.resolution.height + '</code> pixels.</li>';
		if(info.ua.mobile.name != ''){
			html += '<li><b>Mobile device</b><br>';
			html += 'You are using a <code>' + info.ua.mobile.name + ' ' + (info.ua.mobile.version != undefined ? info.ua.mobile.version : '') + '</code>.';
			html += '</li>';
		}

		document.getElementById('info').innerHTML = html;
		document.getElementById('uas').innerHTML = visitor.getUas();
		document.getElementById('result').innerHTML = result;
		
		function tested(){
			var visitor = new visitorParser({
				setUa : (document.getElementById('setua').value == '' ? navigator.userAgent : document.getElementById('setua').value),
				getOpt : (document.getElementById('setopt').value == 'false' ? false : true),
				geoAPI : document.getElementById('setgeo').value
			});
			document.getElementById('uas').innerHTML = visitor.getUas();
			if(document.getElementById('setget').value == 'info'){
				document.getElementById('result').innerHTML = JSON.stringify(visitor.getInfo(), null, 2);
			}else if(document.getElementById('setget').value == 'geo'){
				document.getElementById('result').innerHTML = JSON.stringify(visitor.getGeo(), null, 2);
			}else if(document.getElementById('setget').value == 'browser'){
				document.getElementById('result').innerHTML = JSON.stringify(visitor.getUa().browser, null, 2);
			}else if(document.getElementById('setget').value == 'ip'){
				document.getElementById('result').innerHTML = visitor.getGeo().ip;
			}else if(document.getElementById('setget').value == 'os'){
				document.getElementById('result').innerHTML = visitor.getUa().platform.name;
			}else{
				document.getElementById('result').innerHTML = JSON.stringify(visitor.getUa(), null, 2);
			}
		}
		
		function loadPage(href) {
			var xmlhttp = new XMLHttpRequest();
			xmlhttp.open("GET", href, false);
			xmlhttp.send();
			return xmlhttp.responseText;
		}

		document.getElementById('header').innerHTML = loadPage('/header.html');
		$(document).ready(function(){
			"use strict";
			var dnl=$(".menur-navbar-left"),dnlBtnToggle=$(".dnl-btn-toggle"),dnlBtnCollapse=$(".dnl-btn-collapse"),contentWrap=$(".content-wrap"),contentWrapEffect=contentWrap.data("effect"),windowHeight=$(window).height()-61,windowWidth=$(window).width()<767;dnl.addClass("dnl-hide");dnlBtnToggle.click(function(){if(dnl.hasClass("dnl-hide")){dnlShow()}else{dnlHide()}});dnlBtnCollapse.click(function(e){e.preventDefault();if(dnl.hasClass("dnl-collapsed")){dnl.removeClass("dnl-collapsed");contentWrap.removeClass("dnl-collapsed");$(this).find(".dnl-link-icon").removeClass("fa-arrow-right").addClass("fa-arrow-left")}else{dnl.addClass("dnl-collapsed");contentWrap.addClass("dnl-collapsed");$(this).find(".dnl-link-icon").removeClass("fa-arrow-left").addClass("fa-arrow-right")}});$('.navbar-toggle').click(function(){if($(this).hasClass('collapsed')){dnlHide()}});dnlBtnToggle.click(function(){$('.navbar-toggle').addClass('collapsed');$('.navbar-collapse').removeClass('in')});if(isMobile()==true){$(window).swipe({swipeRight:function(){dnlShow();$('.navbar-collapse').removeClass('in')},swipeLeft:function(){dnlHide()},threshold:75})}function cwShowOverflow(){if(windowWidth){contentWrap.css({height:windowHeight,overflow:'hidden'})}}function cwHideOverflow(){if(windowWidth){contentWrap.css({height:'auto',overflow:'auto'})}}function dnlShow(){dnl.addClass("dnl-show").removeClass("dnl-hide");contentWrap.addClass(contentWrapEffect);cwShowOverflow();dnlBtnToggle.find("span").removeClass("fa-bars").addClass("fa-times")}function dnlHide(){dnl.removeClass("dnl-show").addClass("dnl-hide");contentWrap.removeClass(contentWrapEffect);cwHideOverflow();dnlBtnToggle.find("span").removeClass("fa-times").addClass("fa-bars")}function isMobile(){try{document.createEvent("TouchEvent");return true}catch(e){return false}}
		});
		</script>
	</body>
</html>
